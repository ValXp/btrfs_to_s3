[tool]
cmd = ["python3", "-m", "btrfs_to_s3"]
config_flag = "--config"

[paths]
run_dir = "integration_tests/run/small"
logs_dir = "integration_tests/run/small/logs"
scratch_dir = "integration_tests/run/small/scratch"
lock_dir = "integration_tests/run/small/lock"
btrfs_image = "integration_tests/run/small/btrfs.img"
mount_dir = "integration_tests/run/small/mnt"
data_dir = "integration_tests/run/small/mnt/data"
snapshots_dir = "integration_tests/run/small/mnt/snapshots"

[btrfs]
loopback_size_gib = 4
mount_options = "compress=zstd"
subvolumes = ["data", "root", "home"]

[aws]
region = "us-east-1"
bucket = "codex-btrfs-test-bucket"
prefix = "btrfs-to-s3-test/small/"
storage_class = "STANDARD"
sse = "AES256"

[backup]
chunk_size_mib = 10
concurrency = 4
retention_snapshots = 2

[dataset]
size_mib = 1
